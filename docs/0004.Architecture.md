# System Architecture Diagram - AWS-CapacityForecaster

**Version**: 1.0  
**Date**: January 17, 2026  
**Author**: Sean Girgis  

## Purpose
This document presents the high-level system architecture for **AWS-CapacityForecaster**, a cloud-native recreation of enterprise server capacity forecasting and optimization workflows (inspired by 8 years at Citi Financial).  

The architecture is designed to be:
- **Cost-effective** (leverages Free Tier + short-lived resources)
- **Serverless/managed-first** (minimal infrastructure management)
- **Focused on ML & capacity planning** (SageMaker for models, Athena for querying, S3 as central data hub)
- **Extensible** (easy to add automation later)

It supports the three core project targets:
1. **Data Science / ML** → Time-series forecasting with Prophet, scikit-learn, optional Amazon Forecast
2. **Capacity Planning** → Risk flagging, seasonal analysis, underutilization clustering, cost recommendations
3. **Python + AWS** → boto3 orchestration, SageMaker notebooks/jobs, Athena SQL queries

## High-Level Architecture Overview

The system follows a classic **data lake + ML pipeline** pattern:

1. Local / notebook-based synthetic data generation → upload to **S3**
2. ETL/feature engineering → processed data back to **S3**
3. Query/analysis with **Athena** (simulates Oracle backup DB access)
4. ML training & forecasting in **SageMaker** (notebooks + processing/training jobs)
5. Results → risk analysis, clustering, visualizations → reports/dashboards
6. (Future) Serverless automation via **Lambda** + **EventBridge**

### PlantUML Component Diagram
Paste the code block below into a PlantUML renderer (e.g., https://www.plantuml.com/plantuml/uml/, VS Code PlantUML extension, or Kroki.io) to visualize.

```plantuml
@startuml
!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist
!include AWSPuml/AWSCommon.puml
!include AWSPuml/Storage/SimpleStorageService.puml
!include AWSPuml/MachineLearning/SageMaker.puml
!include AWSPuml/Analytics/Athena.puml
!include AWSPuml/Compute/Lambda.puml
!include AWSPuml/ApplicationIntegration/EventBridge.puml
!include AWSPuml/ManagementAndGovernance/CloudWatch.puml
!include AWSPuml/EndUserComputing/QuickSight.puml

skinparam shadowing false
skinparam monochrome true
skinparam dpi 150

title AWS-CapacityForecaster - High-Level Architecture

[User / Data Engineer] as User
[Local Development] as Local # Notebook + Python (pandas, numpy, Prophet, scikit-learn)

rectangle "AWS Cloud" {

  SimpleStorageService(s3_raw, "S3 - Raw Data", "Synthetic CSVs\nDaily P95 metrics")
  SimpleStorageService(s3_processed, "S3 - Processed", "Cleaned + Features\nParquet/CSV")

  Athena(athena, "Athena", "SQL Queries on S3\n(simulates Oracle backup DB)")

  SageMaker(sagemaker, "SageMaker", "Notebooks\nProcessing Jobs\nTraining (Prophet / scikit-learn / Amazon Forecast)\nModel Artifacts")

  QuickSight(quicksight, "QuickSight", "Interactive Dashboards\nUtilization Trends\nForecasts vs Actual")

  Lambda(lambda, "Lambda (optional)", "Scheduled Triggers\nSimple Processing")
  EventBridge(eventbridge, "EventBridge (optional)", "Cron / S3 Events")

  CloudWatch(cloudwatch, "CloudWatch", "Monitoring\nCosts & Logs")
}

' Data Flow
User --> Local : Generate synthetic data\n(100+ servers, 3+ yrs)
Local --> s3_raw : boto3 upload raw CSVs

s3_raw --> athena : Query raw data
athena --> s3_processed : Save cleaned/aggregated results

s3_processed --> sagemaker : Read for ETL / Feature Eng / Training
sagemaker --> s3_processed : Write processed features\nmodel artifacts

sagemaker --> s3_raw : Forecast outputs / results

s3_raw --> quicksight : Datasets for dashboards

' Optional automation
s3_raw --> eventbridge : S3 upload trigger
eventbridge --> lambda : Run pipeline step
lambda --> sagemaker : Trigger processing/training

' Monitoring
sagemaker .u.> cloudwatch : Logs & Metrics
lambda .u.> cloudwatch
athena .u.> cloudwatch

note bottom of sagemaker
Primary ML Engine:
- Prophet for seasonality
- scikit-learn (RF, GB, clustering)
- Feature eng: lags, rolling, P95 risks
- Accuracy comparison & optimization insights
end note

note bottom of athena
Query engine:
- Simulate complex Oracle-style joins/window functions
- Low-cost analytics on S3
end note

@enduml